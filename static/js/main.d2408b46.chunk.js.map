{"version":3,"sources":["components/AddCountItem/styles.module.scss","components/BookDetailsItem/styles.module.scss","components/BookItem/styles.module.scss","components/common/WrapperForModal/styles.module.scss","components/common/SearchBox/styles.module.scss","containers/BooksContainer/styles.module.scss","components/CartTable/styles.module.scss","containers/CartContainer/styles.module.scss","containers/NotFound/styles.module.scss","components/LoginForm/styles.module.scss","components/Navbar/styles.module.scss","components/common/Loader/styles.module.scss","components/FiltePricerDropdown/styles.module.scss","components/common/Portal/styles.module.scss","containers/PurchaseModal/styles.module.scss","containers/BookDetailsContainer/styles.module.scss","bus/alert/alretTypes.js","bus/alert/alertReducer.js","bus/books/booksTypes.js","bus/books/booksReducer.js","bus/cart/cartTypes.js","bus/cart/cartReducer.js","bus/modal/modalTypes.js","bus/modal/modalReducer.js","bus/order/orderTypes.js","bus/order/orderReducer.js","bus/userLogin/userTypes.js","bus/userLogin/userReducer.js","bus/currentBook/currentBookTypes.js","bus/currentBook/currentBookReducer.js","core/rootReducer.js","core/store.js","bus/userLogin/userSelectors.js","components/common/Alert/index.js","bus/alert/alertSelectors.js","bus/alert/alertActions.js","utils/services/endpoints.js","utils/services/api.js","bus/books/helpers/getPriceFilterCondition.js","bus/books/booksActions.js","bus/books/booksSelectors.js","components/BookItem/index.js","components/common/Loader/index.js","components/common/SearchBox/index.js","components/FiltePricerDropdown/index.js","containers/BooksContainer/index.js","bus/cart/cartSelectors.js","utils/helpers/getTotal/getTotalPriceInfo.js","utils/helpers/getTotal/getTotalPriceSingleItem.js","components/CartTable/index.js","components/common/Button/index.js","bus/modal/modalSelectors.js","components/common/Portal/index.js","components/common/WrapperForModal/index.js","containers/PurchaseModal/index.js","bus/cart/cartActions.js","bus/order/orderActions.js","bus/order/orderSelectors.js","containers/CartContainer/index.js","bus/modal/modalActions.js","bus/currentBook/currentBookActions.js","bus/currentBook/currentBookSelectors.js","components/AddCountItem/index.js","utils/helpers/validation/validateCountAmount.js","components/BookDetailsItem/index.js","containers/BookDetailsContainer/index.js","assets/images/cat.jfif","containers/NotFound/index.js","assets/images/login_pic.jpg","utils/helpers/validation/validateLogin.js","components/LoginForm/index.js","bus/userLogin/userActions.js","containers/LoginContainer/index.js","components/Navbar/index.js","utils/helpers/getTotal/getTotalCountInfo.js","containers/NavbarContainer/index.js","navigation/goRoute.js","navigation/Private.js","navigation/Public.js","navigation/App.js","index.js"],"names":["module","exports","SHOW_ALERT","HIDE_ALERT","alertReducer","state","action","type","payload","BOOKS_GET_REQUEST","BOOKS_GET_SUCCESS","BOOKS_GET_FAIL","BOOK_SEARCH","BOOK_FILTER_BY_PRICE","initialState","books","filteredBooks","textValue","loading","error","booksReducer","filter","book","regex","RegExp","title","match","data","CART_ADD_REQUEST","CART_ADD_BOOK","CART_CLEAR","cartItems","cartReducer","item","existItem","find","id","map","MODAL_OPEN","MODAL_CLOSE","open","modalReducer","ORDER_CREATE_REQUSET","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_RESET","message","orderReducer","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_LOGOUT_REQUEST","userInfo","userLoginReducer","BOOK_GET_BY_ID_REQUEST","BOOK_GET_BY_ID_SUCCESS","BOOK_GET_BY_ID_FAIL","currentBookReducer","rootReducer","combineReducers","userLogin","currentBook","cart","modal","order","alert","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","localStorage","getItem","JSON","parse","middleware","thunk","store","createStore","applyMiddleware","userInfoSelector","loadingSelector","errorSelector","defaultStyle","width","position","top","left","zIndex","Alert","className","style","defaultProps","alertSelector","hideAlert","showAlert","setAlert","ms","dispatch","setTimeout","SIGNIN","BOOKS","PURCHASE","ENDPOINTS","apiService","baseUrl","endpoints","ApiService","isExist","instance","this","endpoint","config","a","axios","get","res","formData","params","headers","newParams","post","getPriceFilterCondition","priceValue","price","getBooksSuccess","resData","filterByPrice","priceFilterCondition","filterByPriceSuccess","booksSelector","textValueSelector","filteredBooksSelector","BookItem","author","cover","classnames","cardStyle","image","src","alt","cardBodyStyle","priceSection","to","Loader","styles","loader","role","SearchBox","submitSearchHandler","formGroup","feedback","formControl","placeholder","aria-label","onChange","e","preventDefault","target","value","FilterPriceDropdown","filterHandler","useState","setPriceValue","useEffect","priceSelect","changeHandler","defaultValue","BooksContainer","useDispatch","useSelector","booksToRender","getState","Authorization","token","getData","response","boxGroup","text","trim","searchBooks","booksWrapper","length","cartItemsSelector","cartLoadingSelector","totalPriceInfo","reduce","acc","quantity","toFixed","getTotalCountSingleItem","Number","CartTable","getTotalPriceInfo","cartTable","Button","disabled","extraClassName","onClick","buttonStyle","useMemo","classNames","openModalSelector","Portal","children","el","document","createElement","container","classList","add","body","appendChild","setAttribute","wrapper","overflow","removeChild","createPortal","propTypes","PropTypes","string","element","isRequired","WrapperForModal","wrapperHeader","wrapperChildren","PurchaseModal","closeHandler","buttonGroup","addBook","cartAddSuccess","setItem","stringify","clearCart","removeItem","resetOrderInfo","messageSelector","CartContainer","history","useHistory","openedModal","btnWrapper","goBack","postData","cartWrapper","push","getBookByIdSuccess","currentBookSelector","AddCountItem","countInStock","onAddToCartClick","countValue","setCountValue","errorValue","setErrorValue","totalPrice","setTotalPrice","addCountWrapper","fieldGroup","count","inputCountValue","validateCountOnLimit","BookDetailsItem","cardDesc","cardImage","cardText","description","tags","join","BookDetailsContainer","useParams","cartLoading","bookItem","bookId","getDataById","bookDetailsWrapper","NotFound","errorTemplate","imageStyle","validateLoginInput","username","LoginForm","onLoginSubmit","setUserName","setError","formContainer","onSubmit","picLogin","htmlFor","name","loginUserSuccess","loginUser","logoutUser","LoginContainer","Navbar","avatar","onLogoutClicked","cartItemsSum","navbarItem","avatarImage","getTotalCountInfo","NavbarContainer","totalCountInfo","goRoute","Object","freeze","login","notFound","Private","exact","path","component","Public","pathName","useLocation","pathname","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,WAAa,2BAA2B,YAAc,8B,mBCA1HD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,SAAW,yBAAyB,UAAY,0BAA0B,SAAW,2B,mBCA7ID,EAAOC,QAAU,CAAC,UAAY,0BAA0B,cAAgB,8BAA8B,MAAQ,sBAAsB,aAAe,+B,mBCAnJD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,cAAgB,8BAA8B,gBAAkB,kC,mBCApHD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,YAAc,4BAA4B,SAAW,2B,mBCA7GD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,SAAW,2B,mBCAzED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,eAAiB,iC,mBCAzED,EAAOC,QAAU,CAAC,YAAc,4BAA4B,WAAa,6B,mBCAzED,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,WAAa,6B,mBCA7ED,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,SAAW,2B,mBCA3ED,EAAOC,QAAU,CAAC,WAAa,2BAA2B,YAAc,8B,mBCAxED,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,YAAc,8B,mBCAhCD,EAAOC,QAAU,CAAC,QAAU,0B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,8B,mBCAhCD,EAAOC,QAAU,CAAC,mBAAqB,qC,+HCD1BC,EAAa,aACbC,EAAa,aCYXC,EAXM,WAA2B,IAA1BC,EAAyB,uDAAjB,KAAMC,EAAW,uCAC7C,OAAQA,EAAOC,MACb,KAAKL,EACH,OAAOI,EAAOE,QAChB,KAAKL,EACH,OAAO,KACT,QACE,OAAOE,I,OCTAI,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAc,cACdC,EAAuB,uBCK9BC,EAAe,CACnBC,MAAO,GACPC,cAAe,KACfC,UAAW,KACXC,SAAS,EACTC,MAAO,MAyDMC,EAtDM,WAAmC,IAAlCf,EAAiC,uDAAzBS,EAAcR,EAAW,uCACrD,OAAQA,EAAOC,MACb,KAAKE,EACH,OAAO,2BACFJ,GADL,IAEEa,SAAS,IAEb,KAAKR,EACH,OAAO,2BACFL,GADL,IAEEa,SAAS,EACTH,MAAOT,EAAOE,QACdW,MAAO,OAEX,KAAKP,EACH,OAAO,2BACFP,GADL,IAEEY,UAAWX,EAAOE,QAClBQ,cACqB,KAAnBV,EAAOE,QACH,KACAH,EAAMU,MAAMM,QAAO,SAACC,GAClB,IAAMC,EAAQ,IAAIC,OAAJ,UAAclB,EAAOE,SAAW,MAC9C,OAAOc,EAAKG,MAAMC,MAAMH,QAGpC,KAAKV,EACH,OAAO,2BACFR,GADL,IAEEW,cAAeX,EAAMY,UACjBZ,EAAMU,MACHM,QAAO,SAACC,GACP,IAAMC,EAAQ,IAAIC,OAAJ,UAAcnB,EAAMY,WAAa,MAC/C,OAAOK,EAAKG,MAAMC,MAAMH,MAEzBF,OAAOf,EAAOE,SACD,IAAhBF,EAAOqB,KACP,KACAtB,EAAMU,MAAMM,OAAOf,EAAOE,WAElC,KAAKG,EACH,OAAO,2BACFN,GADL,IAEEa,SAAS,EACTC,MAAOb,EAAOE,QACdO,MAAO,GACPC,cAAe,OAGnB,QACE,OAAOX,I,QCnEAuB,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAa,aCApBhB,EAAe,CACnBiB,UAAW,GACXb,SAAS,GAyCIc,EAtCK,WAAmC,IAAlC3B,EAAiC,uDAAzBS,EAAcR,EAAW,uCACpD,OAAQA,EAAOC,MACb,KAAKqB,EACH,OAAO,2BACFvB,GADL,IAEEa,SAAS,IAEb,KAAKW,EACH,IAAMI,EAAO3B,EAAOE,QAEd0B,EAAY7B,EAAM0B,UAAUI,MAAK,SAACb,GAAD,OAAUA,EAAKc,KAAOH,EAAKG,MAElE,OAAIF,EACK,2BACF7B,GADL,IAEE0B,UAAW1B,EAAM0B,UAAUM,KAAI,SAACf,GAAD,OAC7BA,EAAKc,KAAOF,EAAUE,GAAKH,EAAOX,KAEpCJ,SAAS,IAGN,2BACFb,GADL,IAEE0B,UAAU,GAAD,mBAAM1B,EAAM0B,WAAZ,CAAuBE,IAChCf,SAAS,IAGb,KAAKY,EACH,OAAO,2BACFzB,GADL,IAEE0B,UAAW,GACXb,SAAS,IAEb,QACE,OAAOb,ICzCAiC,EAAa,aACbC,EAAc,cCCrBzB,EAAe,CACnB0B,MAAM,GAoBOC,EAjBM,WAAmC,IAAlCpC,EAAiC,uDAAzBS,EAAcR,EAAW,uCACrD,OAAQA,EAAOC,MACb,KAAK+B,EACH,OAAO,2BACFjC,GADL,IAEEmC,MAAM,IAEV,KAAKD,EACH,OAAO,2BACFlC,GADL,IAEEmC,MAAM,IAEV,QACE,OAAOnC,ICnBAqC,EAAuB,uBACvBC,EAAuB,uBACvBC,EAAoB,oBACpBC,EAAc,cCIrB/B,EAAe,CACnBgC,QAAS,KACT3B,MAAO,KACPD,SAAS,GA+BI6B,EA5BM,WAAmC,IAAlC1C,EAAiC,uDAAzBS,EAAcR,EAAW,uCACrD,OAAQA,EAAOC,MACb,KAAKmC,EACH,OAAO,2BACFrC,GADL,IAEEa,SAAS,IAEb,KAAKyB,EACH,OAAO,2BACFtC,GADL,IAEEa,SAAS,EACT4B,QAASxC,EAAOE,QAChBW,MAAO,OAEX,KAAKyB,EACH,OAAO,2BACFvC,GADL,IAEEa,SAAS,EACT4B,QAAS,KACT3B,MAAOb,EAAOE,UAElB,KAAKqC,EACH,OAAO/B,EACT,QACE,OAAOT,ICrCA2C,EAAqB,qBACrBC,EAAqB,qBACrBC,EAAkB,kBAClBC,EAAc,cACdC,EAAsB,sBCI7BtC,EAAe,CACnBI,SAAS,EACTmC,SAAU,KACVlC,MAAO,MAgCMmC,EA7BU,WAAmC,IAAlCjD,EAAiC,uDAAzBS,EAAcR,EAAW,uCACzD,OAAQA,EAAOC,MACb,KAAK6C,EACL,KAAKJ,EACH,OAAO,2BACF3C,GADL,IAEEa,SAAS,IAEb,KAAK+B,EACH,OAAO,2BACF5C,GADL,IAEEgD,SAAU/C,EAAOE,QACjBW,MAAO,KACPD,SAAS,IAEb,KAAKgC,EACH,OAAO,2BACF7C,GADL,IAEEc,MAAOb,EAAOE,QACd6C,SAAU,KACVnC,SAAS,IAEb,KAAKiC,EACH,OAAOrC,EACT,QACE,OAAOT,ICvCAkD,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAsB,sBCI7B3C,EAAe,CACnBQ,KAAM,KACNJ,SAAS,EACTC,MAAO,MA8BMuC,EA3BY,WAAmC,IAAlCrD,EAAiC,uDAAzBS,EAAcR,EAAW,uCAC3D,OAAQA,EAAOC,MACb,KAAKgD,EACH,OAAO,2BACFlD,GADL,IAEEa,SAAS,IAEb,KAAKsC,EACH,OAAO,2BACFnD,GADL,IAEEa,SAAS,EACTI,KAAMhB,EAAOE,QACbW,MAAO,OAGX,KAAKsC,EACH,OAAO,2BACFpD,GADL,IAEEiB,KAAM,KACNJ,SAAS,EACTC,MAAOb,EAAOE,UAElB,QACE,OAAOH,IChBEsD,EATKC,YAAgB,CAClCC,UAAWP,EACXvC,MAAOK,EACP0C,YAAaJ,EACbK,KAAM/B,EACNgC,MAAOvB,EACPwB,MAAOlB,EACPmB,MAAO9D,ICbH+D,EAAmBC,OAAOC,qCAC5BD,OAAOC,qCACPC,IAUExD,EAAe,CACnB+C,UAAW,CAAER,SATkBkB,aAAaC,QAAQ,YAClDC,KAAKC,MAAMH,aAAaC,QAAQ,aAChC,MAQFT,KAAM,CAAEhC,UANwBwC,aAAaC,QAAQ,aACnDC,KAAKC,MAAMH,aAAaC,QAAQ,cAChC,KAOEG,EAAa,CAACC,KAOLC,GANDC,YACZnB,EACA7C,EACAqD,EAAiBY,IAAe,WAAf,EAAmBJ,KCzBzBK,GAAmB,SAAC3E,GAAD,OAAWA,EAAMwD,UAAUR,UAC9C4B,GAAkB,SAAC5E,GAAD,OAAWA,EAAMwD,UAAU3C,SAC7CgE,GAAgB,SAAC7E,GAAD,OAAWA,EAAMwD,UAAU1C,O,QCClDgE,GAAe,CACnBC,MAAO,OACPC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,OAAQ,KAGJC,GAAQ,SAAC,GAAqB,IAAnBhE,EAAkB,EAAlBA,MAAOlB,EAAW,EAAXA,KACtB,OACE,sBAAKmF,UAAS,sBAAiBnF,GAAQoF,MAAOR,GAA9C,SACG1D,KAUPgE,GAAMG,aAAe,CACnBrF,KAAM,UAGOkF,I,GAAAA,MC3BAI,GADO,SAACxF,GAAD,OAAWA,EAAM6D,O,QCEjC4B,GAAY,iBAAO,CAAEvF,KAAMJ,IAE3B4F,GAAY,SAAC7B,GAAD,MAAY,CAAE3D,KAAML,EAAYM,QAAS0D,IAErD8B,GAAW,SAAC9B,GAAD,IAAQ+B,EAAR,uDAAa,IAAb,OAAsB,SAACC,GACtCA,EAASH,GAAU7B,IAEnBiC,YAAW,WACTD,EAASJ,QACRG,K,2ECXQG,GAAS,SACTC,GAAQ,QACRC,GAAW,WAQTC,IANA,sBACZH,GAAS,WADG,gBAEZC,GAAQ,UAFI,gBAGZC,GAAW,aAHC,ICiDAE,GALI,I,WAtCjB,WAAYC,EAASC,GACnB,GAD+B,qBAC3BC,EAAWC,QACb,OAAOD,EAAWE,SAEpBF,EAAWE,SAAWC,KACtBH,EAAWC,SAAU,EACrBE,KAAKJ,UAAYA,EACjBI,KAAKL,QAAUA,E,qFAGjB,WAAcM,EAAUC,GAAxB,gBAAAC,EAAA,sEACoBC,KAAMC,IAAN,UACbL,KAAKL,SADQ,OACEK,KAAKJ,UAAUK,IACjCC,GAHJ,cACQI,EADR,yBAKSA,EAAIzF,MALb,gD,2HAQA,WAAkBoF,EAAU3E,EAAI4E,GAAhC,gBAAAC,EAAA,sEACoBC,KAAMC,IAAN,UACbL,KAAKL,SADQ,OACEK,KAAKJ,UAAUK,GADjB,YAC8B3E,GAC9C4E,GAHJ,cACQI,EADR,yBAKSA,EAAIzF,MALb,gD,0HAQA,WAAeoF,EAAUM,EAAUC,GAAnC,oBAAAL,EAAA,6DACQD,EAlCe,CACvBO,QAAS,CACP,eAAgB,qBAiCVC,EAFR,2BAEyBF,GAFzB,IAEiCN,WAFjC,SAGoBE,KAAMO,KAAN,UACbX,KAAKL,SADQ,OACEK,KAAKJ,UAAUK,IACjCM,EACAG,GANJ,cAGQJ,EAHR,yBAQSA,EAAIzF,MARb,gD,kEAYiB,CACjB,sCACA4E,ICrCamB,GAbiB,SAACC,GAC/B,OAAQA,GACN,KAAK,EACH,OAAO,SAACrG,GAAD,OAAUA,EAAKsG,MAAQ,GAAKtG,EAAKsG,OAAS,IACnD,KAAK,EACH,OAAO,SAACtG,GAAD,OAAUA,EAAKsG,MAAQ,IAAMtG,EAAKsG,OAAS,IACpD,KAAK,EACH,OAAO,SAACtG,GAAD,OAAUA,EAAKsG,MAAQ,IAChC,QACE,OAAO,SAACtG,GAAD,OAAUA,KCIjBuG,GAAkB,SAACC,GAAD,MAAc,CACpCvH,KAAMG,EACNF,QAASsH,IAyCLC,GAAgB,SAACJ,GAAD,OAAgB,SAACzB,GACrC,IAAM8B,EAAuBN,IAAyBC,GACtDzB,EAR2B,SAACyB,EAAYK,GAAb,MAAuC,CAClEzH,KAAMM,EACNL,QAASwH,EACTrG,MAAOgG,GAKEM,CAAqBN,EAAYK,MC1D/BE,GAAgB,SAAC7H,GAAD,OAAWA,EAAMU,MAAMA,OACvCoH,GAAoB,SAAC9H,GAAD,OAAWA,EAAMU,MAAME,WAC3CmH,GAAwB,SAAC/H,GAAD,OAAWA,EAAMU,MAAMC,eAC/CiE,GAAkB,SAAC5E,GAAD,OAAWA,EAAMU,MAAMG,SACzCgE,GAAgB,SAAC7E,GAAD,OAAWA,EAAMU,MAAMI,O,wCC4BrCkH,GA1BE,SAAC,GAAyC,IAAvC5G,EAAsC,EAAtCA,MAAO6G,EAA+B,EAA/BA,OAAQV,EAAuB,EAAvBA,MAAOW,EAAgB,EAAhBA,MAAOnG,EAAS,EAATA,GAC/C,OACE,uBAAKsD,UAAW8C,KAAW,YAAa7C,KAAM8C,WAA9C,UACE,sBAAK/C,UAAWC,KAAM+C,MAAOC,IAAKJ,EAAOK,IAAI,aAC7C,uBAAKlD,UAAW8C,KAAW,YAAa7C,KAAMkD,eAA9C,UACE,qBAAInD,UAAU,aAAd,SAA4BjE,IAC5B,oBAAGiE,UAAU,YAAb,SAA0B4C,IAC1B,qBAAG5C,UAAW8C,KAAW,YAAa7C,KAAMmD,cAA5C,UACGlB,EADH,KACY,IACV,eAAC,IAAD,CAAMmB,GAAE,iBAAY3G,GAAMsD,UAAU,eAApC,4B,oBCJKsD,GARA,kBACb,sBAAKtD,UAAWuD,KAAOC,OAAvB,SACE,sBAAKxD,UAAU,4BAA4ByD,KAAK,SAAhD,SACE,uBAAMzD,UAAU,UAAhB,6B,oBCoBS0D,GArBG,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,oBACnB,OACE,uBAAK3D,UAAWC,KAAM2D,UAAtB,UACE,uBAAM5D,UAAW8C,KAAW,eAAgB7C,KAAM4D,YAClD,wBACE7D,UAAWC,KAAM6D,YACjBjJ,KAAK,OACLkJ,YAAY,SACZC,aAAW,SACXC,SAAU,SAACC,GACTA,EAAEC,iBACFR,EAAoBO,EAAEE,OAAOC,c,6BCXjCC,GAAsB,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,cAAehJ,EAAgB,EAAhBA,UAAgB,EACxBiJ,mBAAS,GADe,oBACrDvC,EADqD,KACzCwC,EADyC,KAY5D,OAJAC,qBAAU,WACRD,EAAc,KACb,CAAClJ,IAGF,qCACE,0BACEyE,UAAW8C,KAAW,cAAe7C,KAAM0E,aAC3CN,MAAOpC,EACPgC,SAAU,SAACC,IAdK,SAACA,GACrBO,EAAcP,EAAEE,OAAOC,OACvBE,EAAcL,EAAEE,OAAOC,OAajBO,CAAcV,IAJlB,UAOE,yBAAQW,cAAY,EAACR,MAAM,IAA3B,mBAGA,yBAAQA,MAAM,IAAd,mBACA,yBAAQA,MAAM,IAAd,qBACA,yBAAQA,MAAM,IAAd,wBAURC,GAAoBpE,aAAe,CACjC3E,UAAW,IAGE+I,U,oBCgCAQ,GA5DQ,WACrB,IAAMtE,EAAWuE,cACX1J,EAAQ2J,YAAYxC,IACpBhH,EAAUwJ,YAAYzF,IACtB9D,EAAQuJ,YAAYxF,IACpBlE,EAAgB0J,YAAYtC,IAC5BnH,EAAYyJ,YAAYvC,IAE9BiC,qBAAU,WACJjJ,GACF+E,EAASF,GAAS,CAAEvE,MAAON,OAE5B,CAACA,IAEJ,IAQMwJ,EAAgB3J,GAAiBD,EAKvC,OAJAqJ,qBAAU,WACRlE,ENfa,yCAAM,WAAOA,EAAU0E,GAAjB,sBAAA3D,EAAA,6DACrBf,EAhB6B,CAAE3F,KAAME,IAehB,WAMfmK,IADWvH,EALI,EAKjBQ,UAAaR,SAGT2D,EAAS,CACbO,QAAS,CACPsD,cAAc,UAAD,OAAYxH,EAASyH,SAVnB,SAaGtE,GAAWuE,QAAQ1E,GAAOW,GAb7B,OAabc,EAba,OAcnB5B,EAAS2B,GAAgBC,IAdN,kDAgBnB5B,GAxBkB/E,EAwBI,EAAD,GAxBQ,CAC/BZ,KAAMI,EACNH,QACEW,EAAM6J,UAAY7J,EAAM6J,SAASrJ,KAAKmB,QAClC3B,EAAM6J,SAASrJ,KAAKmB,QACpB3B,EAAM2B,WAGS,kCARF,IAAC3B,IAQC,qBAAN,2DMgBZ,IAECD,EACK,eAAC,GAAD,IAIP,qCACE,uBAAKwE,UAAU,YAAf,UACE,uBAAKA,UAAWC,KAAMsF,SAAtB,UACE,eAAC,GAAD,CAAW5B,oBArBS,SAAC6B,GAC3BhF,ENcgB,SAACgF,GAAD,MAAW,CAC7B3K,KAAMK,EACNJ,QAAS0K,EAAKC,QMhBHC,CAAYF,OAqBf,eAAC,GAAD,CACEjB,cAnBY,SAACtC,GACrBzB,EAAS6B,GAAcJ,KAmBf1G,UAAWA,OAGf,sBAAKyE,UAAWC,KAAM0F,aAAtB,SACGV,GAAiBA,EAAcW,OAAS,EACrCX,EAActI,KAAI,SAACf,GAAD,OAChB,eAAC,GAAD,CAEEc,GAAId,EAAKc,GACTX,MAAOH,EAAKG,MACZ6G,OAAQhH,EAAKgH,OACbV,MAAOtG,EAAKsG,MACZW,MAAOjH,EAAKiH,OALPjH,EAAKc,OAQduI,GAAiB,6DCtElBY,GAAoB,SAAClL,GAAD,OAAWA,EAAM0D,KAAKhC,WAC1CyJ,GAAsB,SAACnL,GAAD,OAAWA,EAAM0D,KAAK7C,SCM1CuK,GAPQ,SAAC1J,GAItB,OAHeA,EAAU2J,QAAO,SAACC,EAAK1J,GACpC,OAAO0J,EAAM1J,EAAK2J,SAAW3J,EAAK2F,QACjC,GACWiE,QAAQ,ICDTC,GAHiB,SAAC7J,GAC/B,OAAO8J,OAAO9J,EAAK2F,MAAQ3F,EAAK2J,UAAUC,QAAQ,I,oBC0CrCG,GApCG,SAAC,GAAmB,IAAjBjK,EAAgB,EAAhBA,UACb0J,EAAiBQ,GAAkBlK,GAEzC,OACE,uBAAK2D,UAAWC,KAAMuG,UAAtB,UACE,yBAAOxG,UAAU,0CAAjB,UACE,iCACE,gCACE,uCACA,wCACA,wCACA,6CAGJ,iCACG3D,EAAUM,KAAI,SAACJ,GAAD,OACb,gCACE,8BAAKA,EAAKR,QACV,oCAAMQ,EAAK2J,YACX,oCAAM3J,EAAK2F,SACX,8BAAKkE,GAAwB7J,OAJtBA,EAAKG,YASpB,uBAAKsD,UAAWC,KAAM8F,eAAtB,0BACgBA,EADhB,YC5BAU,GAAS,SAAC,GAAkD,IAAhD1K,EAA+C,EAA/CA,MAAO2K,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,eAAgBC,EAAc,EAAdA,QAC3CC,EAAcC,mBAClB,kBACEC,KAAW,MAAOJ,EAAgB,CAChC,eAAgBD,MAEpB,CAACA,EAAUC,IAGb,OACE,yBACE9L,KAAK,SACL6L,SAAUA,EACV1G,UAAW6G,EACXD,QAASA,EAJX,SAMG7K,KAUP0K,GAAOvG,aAAe,CACpBnE,MAAO,SACP2K,UAAU,EACVC,eAAgB,OAEHF,UClCAO,GADW,SAACrM,GAAD,OAAWA,EAAM2D,MAAMxB,M,wCCM3CmK,GAAS,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,SAAsD,IAA5ClH,iBAA4C,MAAhC,cAAgC,MAAjBmH,UAAiB,MAAZ,MAAY,IAClD3C,mBAAS4C,SAASC,cAAcF,IAA7CG,EAD+D,qBAetE,OAZAA,EAAUC,UAAUC,IAAIxH,GAExB0E,qBAAU,WAKR,OAJA0C,SAASK,KAAKC,YAAYJ,GAC1BA,EAAUK,aAAa,QAASpE,KAAOqE,SACvCR,SAASK,KAAKxH,MAAM4H,SAAW,SAExB,WACLT,SAASK,KAAKK,YAAYR,GAC1BF,SAASK,KAAKxH,MAAM4H,SAAW,UAEhC,CAACP,IACGS,uBAAab,EAAUI,IAGhCL,GAAOe,UAAY,CACjBb,GAAIc,KAAUC,OACdlI,UAAWiI,KAAUC,OACrBhB,SAAUe,KAAUE,QAAQC,YAGfnB,U,oBCZAoB,GAdS,SAAC,GAAD,IAAGtM,EAAH,EAAGA,MAAOmL,EAAV,EAAUA,SAAV,OACtB,uBAAKlH,UAAWuD,KAAOqE,QAAvB,UACE,sBAAK5H,UAAWuD,KAAO+E,cAAvB,SACE,qBAAItI,UAAWuD,KAAOxH,MAAtB,SAA8BA,MAEhC,sBAAKiE,UAAWuD,KAAOgF,gBAAvB,SAAyCrB,Q,oBCgB9BsB,GAjBO,SAAC,GAAwC,IAAtCzM,EAAqC,EAArCA,MAAOM,EAA8B,EAA9BA,UAAWoM,EAAmB,EAAnBA,aACzC,OACE,eAAC,GAAD,UACE,gBAAC,GAAD,CAAiB1M,MAAOA,EAAxB,UACE,eAAC,GAAD,CAAWM,UAAWA,IACtB,sBAAK2D,UAAWC,KAAMyI,YAAtB,SACE,eAAC,GAAD,CACE3M,MAAM,QACN4K,eAAe,gBACfC,QAAS6B,YCXfE,GAAU,SAAC/M,GAAD,OAAU,SAAC4E,EAAU0E,GACnC1E,EAL4B,CAAE3F,KAAMqB,IAMpCuE,YAAW,WACTD,EANmB,SAAC5E,GAAD,MAAW,CAAEf,KAAMsB,EAAerB,QAASc,GAMrDgN,CAAehN,IACxBiD,aAAagK,QACX,YACA9J,KAAK+J,UAAU5D,IAAW7G,KAAKhC,cAEhC,OAGC0M,GAAY,kBAAM,SAACvI,GACvBA,EAd8B,CAAE3F,KAAMuB,IAetCyC,aAAamK,WAAW,eC2BpBC,GAAiB,iBAAO,CAAEpO,KAAMsC,IC9CzB+L,GAAkB,SAACvO,GAAD,OAAWA,EAAM4D,MAAMnB,SACzCmC,GAAkB,SAAC5E,GAAD,OAAWA,EAAM4D,MAAM/C,SACzCgE,GAAgB,SAAC7E,GAAD,OAAWA,EAAM4D,MAAM9C,O,oBC2FrC0N,GAzEO,WACpB,IAAMC,EAAUC,eACV7I,EAAWuE,cACXuE,EAActE,YAAYgC,IAC1B3K,EAAY2I,YAAYa,IACxBzI,EAAU4H,YAAYkE,IACtB1N,EAAUwJ,YAAYzF,IACtB9D,EAAQuJ,YAAYxF,IAE1BkF,qBAAU,WACJjJ,IAAUD,GACZgF,EACEF,GAAS,CACPvE,MAAON,OAIZ,CAACA,EAAOD,IASX,GAHI4B,GACFoD,EC1C4B,CAAE3F,KAAM+B,ID4ClCpB,EACF,OAAO,eAAC,GAAD,IAUT,OACE,uCACE,uBAAKwE,UAAU,YAAf,UACE,uBAAKA,UAAWC,KAAMsJ,WAAtB,UACE,eAAC,GAAD,CACExN,MAAM,UACN4K,eAAe,WACfC,QAAS,kBAAMwC,EAAQI,YAEzB,eAAC,GAAD,CACEzN,MAAM,WACN2K,SAA+B,IAArBrK,EAAUuJ,OACpBe,eAAe,WACfC,QA/Bc,WFjBN,IAACvL,EEkBjBmF,GFlBiBnF,EEkBIgB,EFlBL,yCAAW,WAAOmE,EAAU0E,GAAjB,wBAAA3D,EAAA,6DAC7Bf,EAdgC,CAAE3F,KAAMmC,IAaX,WAKvBkI,IADWvH,EAJY,EAIzBQ,UAAaR,SAGT2D,EAAS,CACbO,QAAS,CACP,eAAgB,mBAChBsD,cAAc,UAAD,OAAYxH,EAASyH,SAIhCzD,EAAW,CACftG,SAfyB,SAiBTyF,GAAW2I,SAAS7I,GAAUe,EAAUL,GAjB/B,OAiBrBI,EAjBqB,OAkB3BlB,GA9BwBpD,EA8BIsE,EAAItE,QA9BK,CACvCvC,KAAMoC,EACNnC,QAASsC,KAUoB,kDAoB3BoD,GA5BqB/E,EA4BI,EAAD,GA5BQ,CAClCZ,KAAMqC,EACNpC,QACEW,EAAM6J,UAAY7J,EAAM6J,SAASrJ,KAAKmB,QAClC3B,EAAM6J,SAASrJ,KAAKmB,QACpB3B,EAAM2B,WAGiB,kCARP,IAAC3B,EAJG2B,IAYG,qBAAX,gEEmDXf,EAAUuJ,OAAS,EAClB,eAAC,GAAD,CAAWvJ,UAAWA,IAEtB,uBAAK2D,UAAWC,KAAMyJ,YAAtB,UACE,oBAAG1J,UAAU,kCACb,sDAILsJ,GACC,eAAC,GAAD,CACEvN,MAAOqB,EACPf,UAAWA,EACXoM,aApCa,WACnBjI,EAASuI,MACTvI,EChD6B,CAAE3F,KAAMgC,IDiDrC2D,EAASyI,MACTG,EAAQO,KAAK,YE1CXC,GAAqB,SAACxH,GAAD,MAAc,CACvCvH,KAAMiD,EACNhD,QAASsH,ICdEyH,GAAsB,SAAClP,GAAD,OAAWA,EAAMyD,YAAYxC,MACnD2D,GAAkB,SAAC5E,GAAD,OAAWA,EAAMyD,YAAY5C,SAC/CgE,GAAgB,SAAC7E,GAAD,OAAWA,EAAMyD,YAAY3C,O,oBCQpDqO,GAAe,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,aAAc7H,EAAwC,EAAxCA,MAAOgE,EAAiC,EAAjCA,SAAU8D,EAAuB,EAAvBA,iBAAuB,EACxCxF,mBAAS0B,GAD+B,oBACrE+D,EADqE,KACzDC,EADyD,OAExC1F,mBAAS,IAF+B,oBAErE2F,EAFqE,KAEzDC,EAFyD,OAGxC5F,mBAClC4B,GAAwB,CAAElE,QAAOgE,cAJyC,oBAGrEmE,EAHqE,KAGzDC,EAHyD,KAsB5E,OACE,uBAAKtK,UAAWC,KAAMsK,gBAAtB,UACGJ,GACC,uBAAMnK,UAAU,2BAAhB,SAA4CmK,IAE9C,uBAAKnK,UAAWC,KAAMuK,WAAtB,UACE,8CACA,gCAAOtI,OAET,uBAAKlC,UAAWC,KAAMuK,WAAtB,UACE,2CACA,wBAAO3P,KAAK,SAASwJ,MAAO4F,EAAYhG,SA1BtB,SAACC,GACvB,IClByBG,EAAOoG,EDkB1BC,GAAmBxG,EAAEE,OAAOC,OClBFoG,EDmBSV,GCnBhB1F,EDmBDqG,ICnB8B,GAAKrG,GAASoG,KDoBlEP,EAAcQ,GAKdJ,EAAclE,GAJD,CACXlE,QACAgE,SAAUwE,KAGZN,EAAc,MCzBS,SAAC/F,EAAOoG,GAAR,OAAkBpG,EAAQoG,GD2B/CE,CAAqBD,EAAiBX,IACxCK,EAAc,gBAAD,OAAiBL,EAAjB,0BAgBb,uBAAK/J,UAAWC,KAAMuK,WAAtB,UACE,mDACA,gCAAOH,OAET,sBAAKrK,UAAWC,KAAMyI,YAAtB,SACE,eAAC,GAAD,CACE3M,MAAM,cACN4K,eAAe,WACfC,QAAS,kBAAMoD,EAAiBC,IAChCvD,SAAyB,IAAfuD,UAapBH,GAAa5J,aAAe,CAC1BgG,SAAU,GAEG4D,U,oBE9CAc,GAnBS,SAAC,GAAc,IAAZhP,EAAW,EAAXA,KACzB,OACE,uBAAKoE,UAAWC,KAAM8C,UAAtB,UACE,uBAAK/C,UAAWC,KAAM4K,SAAtB,UACE,sBAAK7K,UAAWC,KAAM6K,UAAW7H,IAAKrH,EAAKiH,MAAOK,IAAI,aACtD,oBAAGlD,UAAWC,KAAM8K,SAApB,SAA+BnP,EAAKoP,iBAEtC,uBAAKhL,UAAW8C,KAAW,YAAa7C,KAAMkD,eAA9C,UACE,qBAAInD,UAAU,aAAd,SAA4BpE,EAAKG,QACjC,oBAAGiE,UAAU,YAAb,SAA0BpE,EAAKgH,SAC/B,+BACE,oBAAG5C,UAAU,oBACZpE,EAAKqP,KAAKC,KAAK,gB,oBC0EXC,GAzEc,WAC3B,IAAM3K,EAAWuE,cACXqE,EAAUC,eACVzH,EAASwJ,eACT5P,EAAUwJ,YAAYzF,IACtB9D,EAAQuJ,YAAYxF,IACpB5D,EAAOoJ,YAAY6E,IACnBwB,EAAcrG,YAAYc,IAC1BzJ,EAAY2I,YAAYa,IAExByF,EACJjP,GAAaT,GAAQS,EAAUI,MAAK,SAACF,GAAD,OAAUA,EAAKG,KAAOd,EAAKc,MAEjEgI,qBAAU,WLNQ,IAAC6G,EKOjB/K,GLPiB+K,EKOI3J,EAAOlF,GLPZ,yCAAY,WAAO8D,EAAU0E,GAAjB,sBAAA3D,EAAA,6DAC9Bf,EAlBgC,CAChC3F,KAAMgD,IAgBwB,WAMxBqH,IADWvH,EALa,EAK1BQ,UAAaR,SAGT2D,EAAS,CACbO,QAAS,CACPsD,cAAc,UAAD,OAAYxH,EAASyH,SAVV,SAaNtE,GAAW0K,YAAY7K,GAAO4K,EAAQjK,GAbhC,OAatBc,EAbsB,OAc5B5B,EAASoJ,GAAmBxH,IAdA,kDAgB5B5B,GAxBqB/E,EAwBI,EAAD,GAxBQ,CAClCZ,KAAMkD,EACNjD,QACEW,EAAM6J,UAAY7J,EAAM6J,SAASrJ,KAAKmB,QAClC3B,EAAM6J,SAASrJ,KAAKmB,QACpB3B,EAAM2B,WAGkB,kCARR,IAAC3B,IAQO,qBAAZ,4DKQf,IAEHiJ,qBAAU,WACJjJ,GACF+E,EACEF,GAAS,CACPvE,MAAON,OAIZ,CAACA,IAcJ,OAAID,EACK,eAAC,GAAD,IAIPI,GACE,qCACE,uBAAKoE,UAAU,YAAf,UACE,eAAC,GAAD,CACEjE,MAAM,UACN4K,eAAe,WACfC,QAAS,kBAAMwC,EAAQI,YAEzB,uBAAKxJ,UAAWC,KAAMwL,mBAAtB,UACE,eAAC,GAAD,CAAiB7P,KAAMA,IACvB,qCACGyP,EACC,eAAC,GAAD,IAEA,eAAC,GAAD,CACEtB,aAAcnO,EAAK6O,MACnBvI,MAAOtG,EAAKsG,MACZgE,SAAUoF,GAAYA,EAASpF,SAC/B8D,iBAnCS,SAAC9D,GACxB1F,EAASmI,GAAQ,2BAAK/M,GAAN,IAAYsK,eAC5BzF,YAAW,WACTD,EACEF,GAAS,CACPvE,MAAO,6CACPlB,KAAM,eAGT,mBCtDQ,OAA0B,iC,oBCwB1B6Q,GAlBE,WACf,IAAMtC,EAAUC,eAChB,OACE,uBAAKrJ,UAAWC,KAAM0L,cAAtB,UACE,sBAAK1I,IAAKD,GAAOE,IAAI,YAAYlD,UAAWC,KAAM2L,aAClD,sCACA,kEACA,eAAC,GAAD,CACE7P,MAAM,eACN4K,eAAe,gBACfC,QAAS,WACPwC,EAAQO,KAAK,YCjBR,OAA0B,sCCM1BkC,GANY,SAACC,GAC1B,OAAIA,EAASlG,OAAS,GAAKkG,EAASlG,OAAS,I,oBC0DhCmG,GArDG,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAAoB,EACPxH,mBAAS,IADF,oBAChCsH,EADgC,KACtBG,EADsB,OAEbzH,oBAAS,GAFI,oBAEhC/I,EAFgC,KAEzByQ,EAFyB,KAavC,OACE,sBAAKlM,UAAU,YAAf,SACE,sBAAKA,UAAWuD,KAAO4I,cAAvB,SACE,wBAAMC,SAbK,SAAClI,GAChBA,EAAEC,iBACE0H,GAAmBC,GACrBI,GAAS,IAETF,EAAcF,GACdG,EAAY,IACZC,GAAS,KAMP,UACG,IACD,sBAAKjJ,IAAKoJ,GAAUnJ,IAAI,eAAelD,UAAWuD,KAAO8I,WACzD,sBAAIrM,UAAU,cAAd,UACE,uBAAMA,UAAU,YAAhB,qBADF,YAGA,sBAAKA,UAAU,aAAf,SACE,yBAAOsM,QAAQ,WAAWtM,UAAU,QAApC,iBAEE,wBACEnF,KAAK,OACL0R,KAAK,WACL7P,GAAG,WACH2H,MAAOyH,EACP9L,UAAU,qBACViE,SAAU,SAACC,GAAD,OAAO+H,EAAY/H,EAAEE,OAAOC,UAEvC5I,GACC,wBAAOuE,UAAU,cAAjB,wCAIN,wBACEnF,KAAK,SACLwJ,MAAM,QACNrE,UAAU,mCCpChBwM,GAAmB,SAAClH,GAAD,MAAe,CACtCzK,KAAM0C,EACNzC,QAASwK,IASLmH,GAAY,SAACX,GAAD,gDAAc,WAAOtL,GAAP,kBAAAe,EAAA,6DAC9Bf,EAb8B,CAAE3F,KAAMyC,IAYR,SAGtBqE,EAAW,CACfmK,YAJ0B,SAMLhL,GAAW2I,SAAS/I,GAAQiB,GANvB,OAMtB2D,EANsB,OAO5B9E,EAASgM,GAAiBlH,IAC1BzG,aAAagK,QAAQ,WAAY9J,KAAK+J,UAAUxD,IARpB,kDAU5B9E,GAjBmB/E,EAiBI,EAAD,GAjBQ,CAChCZ,KAAM2C,EACN1C,QACEW,EAAM6J,UAAY7J,EAAM6J,SAASrJ,KAAKmB,QAClC3B,EAAM6J,SAASrJ,KAAKmB,QACpB3B,EAAM2B,WAEkB,kCAPV,IAAC3B,IAOS,qBAAd,uDAiBZiR,GAAa,kBAAM,SAAClM,GACxBA,EAJ+B,CAAE3F,KAAM6C,IAKvC+C,YAAW,WACT5B,aAAamK,WAAW,YACxBxI,EAN6B,CAAE3F,KAAM4C,MAOpC,OCEUkP,GAjCQ,WACrB,IAAMnM,EAAWuE,cACXqE,EAAUC,eACV1L,EAAWqH,YAAY1F,IACvB9D,EAAUwJ,YAAYzF,IACtB9D,EAAQuJ,YAAYxF,IAE1BkF,qBAAU,WACJ/G,GACFyL,EAAQO,KAAK,OAEd,CAACP,EAASzL,EAAU8O,GAAWhR,IAElCiJ,qBAAU,WACJjJ,GACF+E,EAASF,GAAS,CAAEvE,MAAON,OAE5B,CAACA,IAKJ,OAAID,EACK,eAAC,GAAD,IAIP,qCACE,eAAC,GAAD,CAAWwQ,cAVO,SAACF,GACrBtL,EAASiM,GAAUX,U,oBCWRc,GArCA,SAAC,GAA6D,IAA3DC,EAA0D,EAA1DA,OAAQf,EAAkD,EAAlDA,SAAUgB,EAAwC,EAAxCA,gBAAwC,IAAvBC,oBAAuB,MAAR,EAAQ,EAC1E,OACE,oCACE,sBAAK/M,UAAU,4BAAf,SACE,sBAAKA,UAAU,YAAf,SACE,uBAAKA,UAAWC,KAAM+M,WAAtB,UACE,gCAAOlB,IACP,sBAAK7I,IAAK4J,EAAQ3J,IAAI,SAASlD,UAAWC,KAAMgN,cAChD,eAAC,GAAD,CACElR,MAAM,WACN4K,eAAe,0BACfC,QAAS,kBAAMkG,cAKvB,sBAAK9M,UAAU,wDAAf,SACE,uBAAKA,UAAU,YAAf,UACE,gBAAC,IAAD,CAAMqD,GAAG,IAAT,UACE,oBAAGrD,UAAU,eADf,oBAGA,gBAAC,IAAD,CAAMqD,GAAG,QAAT,UACE,oBAAGrD,UAAU,wBADf,UAC+C+M,EAD/C,gBCrBKG,GANW,SAAC7Q,GAIzB,OAHuBA,EAAU2J,QAAO,SAACC,EAAKrK,GAC5C,OAAOqK,EAAMrK,EAAKsK,WACjB,ICgCUiH,GAzBS,WACtB,IAAM3M,EAAWuE,cACXpH,EAAWqH,YAAY1F,IACvB8J,EAAUC,eACVhN,EAAY2I,YAAYa,IAExBuH,EAAiBF,GAAkB7Q,GAOzC,OACE,qCACE,eAAC,GAAD,CACEyP,SAAUnO,EAASmO,SACnBe,OAAQlP,EAASkP,OACjBC,gBAVkB,WACtBtM,EAASkM,MACTlM,EAASyI,MACTG,EAAQO,KAAK,WAQToD,aAAcK,OCtBPC,GAPCC,OAAOC,OAAO,CAC5BlS,MAAO,IACPO,KAAM,aACN4R,MAAO,SACPnP,KAAM,QACNoP,SAAU,MC0BGC,GApBC,WACd,OACE,qCACE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOC,OAAK,EAACC,KAAK,OAAOC,UAAWnC,KACpC,gBAAC,KAAD,WACE,eAAC,GAAD,IACA,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOiC,OAAK,EAACC,KAAMP,GAAQhS,MAAOwS,UAAW/I,KAC7C,eAAC,KAAD,CAAO8I,KAAMP,GAAQG,MAAOK,UAAWlB,KACvC,eAAC,KAAD,CAAOiB,KAAMP,GAAQzR,KAAMiS,UAAW1C,KACtC,eAAC,KAAD,CAAOyC,KAAMP,GAAQhP,KAAMwP,UAAW1E,KACtC,eAAC,KAAD,CAAU9F,GAAG,qBCFVyK,GAdA,WACb,IAAMC,EAAWC,eAAcC,SAE/B,OACE,qCACE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOL,KAAMP,GAAQG,MAAOK,UAAWlB,KACzB,MAAboB,GAAoB,eAAC,KAAD,CAAU1K,GAAIgK,GAAQG,QAC3C,eAAC,KAAD,CAAOI,KAAMP,GAAQI,SAAUI,UAAWnC,WCKnCwC,GAXH,WACV,IAAMvQ,EAAWqH,YAAY1F,IACvBd,EAAQwG,YAAY7E,IAC1B,OACE,uCACG3B,GAAS,eAAC,GAAD,CAAOzC,MAAOyC,EAAMzC,MAAOlB,KAAM2D,EAAM3D,OAChD8C,EAAW,eAAC,GAAD,IAAc,eAAC,GAAD,Q,MCPhCwQ,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,IAAD,CAAUlP,MAAOA,GAAjB,SACE,eAAC,IAAD,UACE,eAAC,GAAD,UAINiI,SAASkH,eAAe,W","file":"static/js/main.d2408b46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"addCountWrapper\":\"styles_addCountWrapper__3a2ef\",\"fieldGroup\":\"styles_fieldGroup__3XffH\",\"buttonGroup\":\"styles_buttonGroup__Amdcq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"styles_cardStyle__2nyrP\",\"cardDesc\":\"styles_cardDesc__2m4td\",\"cardImage\":\"styles_cardImage__29tA8\",\"cardText\":\"styles_cardText__1Cddn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"styles_cardStyle__1PKdQ\",\"cardBodyStyle\":\"styles_cardBodyStyle__19sXp\",\"image\":\"styles_image__2-bU1\",\"priceSection\":\"styles_priceSection__1Un_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__UDYgX\",\"wrapperHeader\":\"styles_wrapperHeader__1fejE\",\"wrapperChildren\":\"styles_wrapperChildren__2no72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formGroup\":\"styles_formGroup__2mrXO\",\"formControl\":\"styles_formControl__HX8Wy\",\"feedback\":\"styles_feedback__weaFQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"booksWrapper\":\"styles_booksWrapper__4GzyR\",\"boxGroup\":\"styles_boxGroup__2c4rm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartTable\":\"styles_cartTable__5VVaG\",\"totalPriceInfo\":\"styles_totalPriceInfo__1nVQG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartWrapper\":\"styles_cartWrapper__1Ja3j\",\"btnWrapper\":\"styles_btnWrapper__esmfq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorTemplate\":\"styles_errorTemplate__1Tbur\",\"imageStyle\":\"styles_imageStyle__3Tt_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"styles_formContainer__1h8pe\",\"picLogin\":\"styles_picLogin__2byX-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbarItem\":\"styles_navbarItem__1F38W\",\"avatarImage\":\"styles_avatarImage__3cirl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"styles_loader__3MoQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"priceSelect\":\"styles_priceSelect__3mTDe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2q59k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonGroup\":\"styles_buttonGroup__qaf8Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookDetailsWrapper\":\"styles_bookDetailsWrapper__1UunF\"};","export const SHOW_ALERT = 'SHOW_ALERT';\nexport const HIDE_ALERT = 'HIDE_ALERT';\n","import { SHOW_ALERT, HIDE_ALERT } from './alretTypes';\n\nconst alertReducer = (state = null, action) => {\n  switch (action.type) {\n    case SHOW_ALERT:\n      return action.payload;\n    case HIDE_ALERT:\n      return null;\n    default:\n      return state;\n  }\n};\n\nexport default alertReducer;\n","export const BOOKS_GET_REQUEST = 'BOOKS_GET_REQUEST';\nexport const BOOKS_GET_SUCCESS = 'BOOKS_GET_SUCCESS';\nexport const BOOKS_GET_FAIL = 'BOOKS_GET_FAIL';\nexport const BOOK_SEARCH = 'BOOK_SEARCH';\nexport const BOOK_FILTER_BY_PRICE = 'BOOK_FILTER_BY_PRICE';\n","/* eslint-disable no-nested-ternary */\nimport {\n  BOOKS_GET_FAIL,\n  BOOKS_GET_REQUEST,\n  BOOKS_GET_SUCCESS,\n  BOOK_SEARCH,\n  BOOK_FILTER_BY_PRICE,\n} from './booksTypes';\n\nconst initialState = {\n  books: [],\n  filteredBooks: null,\n  textValue: null,\n  loading: false,\n  error: null,\n};\n\nconst booksReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case BOOKS_GET_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case BOOKS_GET_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        books: action.payload,\n        error: null,\n      };\n    case BOOK_SEARCH:\n      return {\n        ...state,\n        textValue: action.payload,\n        filteredBooks:\n          action.payload === ''\n            ? null\n            : state.books.filter((book) => {\n                const regex = new RegExp(`${action.payload}`, 'gi');\n                return book.title.match(regex);\n              }),\n      };\n    case BOOK_FILTER_BY_PRICE:\n      return {\n        ...state,\n        filteredBooks: state.textValue\n          ? state.books\n              .filter((book) => {\n                const regex = new RegExp(`${state.textValue}`, 'gi');\n                return book.title.match(regex);\n              })\n              .filter(action.payload)\n          : action.data === 0\n          ? null\n          : state.books.filter(action.payload),\n      };\n    case BOOKS_GET_FAIL:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        books: [],\n        filteredBooks: null,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default booksReducer;\n","export const CART_ADD_REQUEST = 'CART_ADD_REQUEST';\nexport const CART_ADD_BOOK = 'CART_ADD_BOOK';\nexport const CART_CLEAR = 'CART_CLEAR';\n","import { CART_ADD_BOOK, CART_CLEAR, CART_ADD_REQUEST } from './cartTypes';\n\nconst initialState = {\n  cartItems: [],\n  loading: false,\n};\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CART_ADD_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case CART_ADD_BOOK: {\n      const item = action.payload;\n\n      const existItem = state.cartItems.find((book) => book.id === item.id);\n\n      if (existItem) {\n        return {\n          ...state,\n          cartItems: state.cartItems.map((book) =>\n            book.id === existItem.id ? item : book\n          ),\n          loading: false,\n        };\n      }\n      return {\n        ...state,\n        cartItems: [...state.cartItems, item],\n        loading: false,\n      };\n    }\n    case CART_CLEAR:\n      return {\n        ...state,\n        cartItems: [],\n        loading: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","export const MODAL_OPEN = 'MODAL_OPEN';\nexport const MODAL_CLOSE = 'MODAL_CLOSE';\n","import { MODAL_CLOSE, MODAL_OPEN } from './modalTypes';\n\nconst initialState = {\n  open: false,\n};\n\nconst modalReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case MODAL_OPEN:\n      return {\n        ...state,\n        open: true,\n      };\n    case MODAL_CLOSE:\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default modalReducer;\n","export const ORDER_CREATE_REQUSET = 'ORDER_CREATE_REQUEST';\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\nexport const ORDER_RESET = 'ORDER_RESET';\n","import {\n  ORDER_CREATE_FAIL,\n  ORDER_CREATE_REQUSET,\n  ORDER_CREATE_SUCCESS,\n  ORDER_RESET,\n} from './orderTypes';\n\nconst initialState = {\n  message: null,\n  error: null,\n  loading: false,\n};\n\nconst orderReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ORDER_CREATE_REQUSET:\n      return {\n        ...state,\n        loading: true,\n      };\n    case ORDER_CREATE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        message: action.payload,\n        error: null,\n      };\n    case ORDER_CREATE_FAIL:\n      return {\n        ...state,\n        loading: false,\n        message: null,\n        error: action.payload,\n      };\n    case ORDER_RESET:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default orderReducer;\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\nexport const USER_LOGOUT = 'USER_LOGOUT';\nexport const USER_LOGOUT_REQUEST = 'USER_LOGOUT_REQUEST';\n","import {\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAIL,\n  USER_LOGOUT,\n  USER_LOGOUT_REQUEST,\n} from './userTypes';\n\nconst initialState = {\n  loading: false,\n  userInfo: null,\n  error: null,\n};\n\nconst userLoginReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case USER_LOGOUT_REQUEST:\n    case USER_LOGIN_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case USER_LOGIN_SUCCESS:\n      return {\n        ...state,\n        userInfo: action.payload,\n        error: null,\n        loading: false,\n      };\n    case USER_LOGIN_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n        userInfo: null,\n        loading: false,\n      };\n    case USER_LOGOUT:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default userLoginReducer;\n","export const BOOK_GET_BY_ID_REQUEST = 'BOOK_GET_BY_ID_REQUEST';\nexport const BOOK_GET_BY_ID_SUCCESS = 'BOOK_GET_BY_ID_SUCCESS';\nexport const BOOK_GET_BY_ID_FAIL = 'BOOK_GET_BY_ID_FAIL';\n","import {\n  BOOK_GET_BY_ID_FAIL,\n  BOOK_GET_BY_ID_REQUEST,\n  BOOK_GET_BY_ID_SUCCESS,\n} from './currentBookTypes';\n\nconst initialState = {\n  book: null,\n  loading: false,\n  error: null,\n};\n\nconst currentBookReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case BOOK_GET_BY_ID_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case BOOK_GET_BY_ID_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        book: action.payload,\n        error: null,\n      };\n\n    case BOOK_GET_BY_ID_FAIL:\n      return {\n        ...state,\n        book: null,\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default currentBookReducer;\n","import alertReducer from 'bus/alert/alertReducer';\nimport booksReducer from 'bus/books/booksReducer';\nimport cartReducer from 'bus/cart/cartReducer';\nimport modalReducer from 'bus/modal/modalReducer';\nimport orderReducer from 'bus/order/orderReducer';\nimport userLoginReducer from 'bus/userLogin/userReducer';\nimport currentBookReducer from 'bus/currentBook/currentBookReducer';\n\nimport { combineReducers } from 'redux';\n\nconst rootReducer = combineReducers({\n  userLogin: userLoginReducer,\n  books: booksReducer,\n  currentBook: currentBookReducer,\n  cart: cartReducer,\n  modal: modalReducer,\n  order: orderReducer,\n  alert: alertReducer,\n});\nexport default rootReducer;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './rootReducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  : compose;\n\nconst userInfoFromLocalStorage = localStorage.getItem('userInfo')\n  ? JSON.parse(localStorage.getItem('userInfo'))\n  : null;\n\nconst cartItemsFromLocalStorage = localStorage.getItem('cartItems')\n  ? JSON.parse(localStorage.getItem('cartItems'))\n  : [];\n\nconst initialState = {\n  userLogin: { userInfo: userInfoFromLocalStorage },\n  cart: { cartItems: cartItemsFromLocalStorage },\n};\n\nconst middleware = [thunk];\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeEnhancers(applyMiddleware(...middleware))\n);\n\nexport default store;\n","export const userInfoSelector = (state) => state.userLogin.userInfo;\nexport const loadingSelector = (state) => state.userLogin.loading;\nexport const errorSelector = (state) => state.userLogin.error;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst defaultStyle = {\n  width: '100%',\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  zIndex: 999,\n};\n\nconst Alert = ({ title, type }) => {\n  return (\n    <div className={`alert alert-${type}`} style={defaultStyle}>\n      {title}\n    </div>\n  );\n};\n\nAlert.propTypes = {\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string,\n};\n\nAlert.defaultProps = {\n  type: 'danger',\n};\n\nexport default Alert;\n","const alertSelector = (state) => state.alert;\nexport default alertSelector;\n","import { HIDE_ALERT, SHOW_ALERT } from './alretTypes';\n\nconst hideAlert = () => ({ type: HIDE_ALERT });\n\nconst showAlert = (alert) => ({ type: SHOW_ALERT, payload: alert });\n\nconst setAlert = (alert, ms = 2000) => (dispatch) => {\n  dispatch(showAlert(alert));\n\n  setTimeout(() => {\n    dispatch(hideAlert());\n  }, ms);\n};\nexport { hideAlert, showAlert, setAlert };\n","export const SIGNIN = 'signin';\nexport const BOOKS = 'books';\nexport const PURCHASE = 'purchase';\n\nconst ENDPOINTS = {\n  [SIGNIN]: '/signin',\n  [BOOKS]: '/books',\n  [PURCHASE]: '/purchase',\n};\n\nexport default ENDPOINTS;\n","import axios from 'axios';\nimport ENDPOINTS from './endpoints';\n\nconst getConfig = () => ({\n  headers: {\n    'Content-type': 'application/json',\n  },\n});\n\nclass ApiService {\n  constructor(baseUrl, endpoints) {\n    if (ApiService.isExist) {\n      return ApiService.instance;\n    }\n    ApiService.instance = this;\n    ApiService.isExist = true;\n    this.endpoints = endpoints;\n    this.baseUrl = baseUrl;\n  }\n\n  async getData(endpoint, config) {\n    const res = await axios.get(\n      `${this.baseUrl}${this.endpoints[endpoint]}`,\n      config\n    );\n    return res.data;\n  }\n\n  async getDataById(endpoint, id, config) {\n    const res = await axios.get(\n      `${this.baseUrl}${this.endpoints[endpoint]}/${id}`,\n      config\n    );\n    return res.data;\n  }\n\n  async postData(endpoint, formData, params) {\n    const config = getConfig();\n    const newParams = { ...params, config };\n    const res = await axios.post(\n      `${this.baseUrl}${this.endpoints[endpoint]}`,\n      formData,\n      newParams\n    );\n    return res.data;\n  }\n}\n\nconst apiService = new ApiService(\n  'https://js-band-store-api.glitch.me',\n  ENDPOINTS\n);\n\nexport default apiService;\n","const getPriceFilterCondition = (priceValue) => {\n  switch (priceValue) {\n    case 1:\n      return (book) => book.price > 0 && book.price <= 25;\n    case 2:\n      return (book) => book.price > 25 && book.price <= 50;\n    case 3:\n      return (book) => book.price > 50;\n    default:\n      return (book) => book;\n  }\n};\n\nexport default getPriceFilterCondition;\n","import apiService from 'utils/services/api';\nimport { BOOKS } from 'utils/services/endpoints';\nimport {\n  BOOKS_GET_REQUEST,\n  BOOKS_GET_FAIL,\n  BOOKS_GET_SUCCESS,\n  BOOK_SEARCH,\n  BOOK_FILTER_BY_PRICE,\n} from './booksTypes';\nimport getPriceFilterCondition from './helpers/getPriceFilterCondition';\n\nconst getBooksRequest = () => ({ type: BOOKS_GET_REQUEST });\n\nconst getBooksSuccess = (resData) => ({\n  type: BOOKS_GET_SUCCESS,\n  payload: resData,\n});\n\nconst getBooksFail = (error) => ({\n  type: BOOKS_GET_FAIL,\n  payload:\n    error.response && error.response.data.message\n      ? error.response.data.message\n      : error.message,\n});\n\nconst getBooks = () => async (dispatch, getState) => {\n  dispatch(getBooksRequest());\n\n  try {\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n    const resData = await apiService.getData(BOOKS, config);\n    dispatch(getBooksSuccess(resData));\n  } catch (error) {\n    dispatch(getBooksFail(error));\n  }\n};\n\nconst searchBooks = (text) => ({\n  type: BOOK_SEARCH,\n  payload: text.trim(),\n});\nconst filterByPriceSuccess = (priceValue, priceFilterCondition) => ({\n  type: BOOK_FILTER_BY_PRICE,\n  payload: priceFilterCondition,\n  data: +priceValue,\n});\n\nconst filterByPrice = (priceValue) => (dispatch) => {\n  const priceFilterCondition = getPriceFilterCondition(+priceValue);\n  dispatch(filterByPriceSuccess(priceValue, priceFilterCondition));\n};\n\nexport {\n  getBooks,\n  filterByPrice,\n  searchBooks,\n  filterByPriceSuccess,\n  getBooksSuccess,\n  getBooksFail,\n  getBooksRequest,\n};\n","export const booksSelector = (state) => state.books.books;\nexport const textValueSelector = (state) => state.books.textValue;\nexport const filteredBooksSelector = (state) => state.books.filteredBooks;\nexport const loadingSelector = (state) => state.books.loading;\nexport const errorSelector = (state) => state.books.error;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport style from './styles.module.scss';\n\nconst BookItem = ({ title, author, price, cover, id }) => {\n  return (\n    <div className={classnames('card py-2', style.cardStyle)}>\n      <img className={style.image} src={cover} alt=\"Card cap\" />\n      <div className={classnames('card-body', style.cardBodyStyle)}>\n        <h5 className=\"card-title\">{title}</h5>\n        <p className=\"card-text\">{author}</p>\n        <p className={classnames('card-text', style.priceSection)}>\n          {price} ${' '}\n          <Link to={`/books/${id}`} className=\"btn btn-info\">\n            View\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nBookItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  cover: PropTypes.string.isRequired,\n};\n\nexport default BookItem;\n","import React from 'react';\nimport styles from './styles.module.scss';\n\nconst Loader = () => (\n  <div className={styles.loader}>\n    <div className=\"spinner-border text-info \" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport style from './styles.module.scss';\n\nconst SearchBox = ({ submitSearchHandler }) => {\n  return (\n    <div className={style.formGroup}>\n      <span className={classnames('fa fa-search', style.feedback)} />\n      <input\n        className={style.formControl}\n        type=\"text\"\n        placeholder=\"Search\"\n        aria-label=\"Search\"\n        onChange={(e) => {\n          e.preventDefault();\n          submitSearchHandler(e.target.value);\n        }}\n      />\n    </div>\n  );\n};\n\nSearchBox.propTypes = {\n  submitSearchHandler: PropTypes.func.isRequired,\n};\nexport default SearchBox;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport style from './styles.module.scss';\n\nconst FilterPriceDropdown = ({ filterHandler, textValue }) => {\n  const [priceValue, setPriceValue] = useState(0);\n\n  const changeHandler = (e) => {\n    setPriceValue(e.target.value);\n    filterHandler(e.target.value);\n  };\n\n  useEffect(() => {\n    setPriceValue(0);\n  }, [textValue]);\n\n  return (\n    <>\n      <select\n        className={classnames('form-select', style.priceSelect)}\n        value={priceValue}\n        onChange={(e) => {\n          changeHandler(e);\n        }}\n      >\n        <option defaultValue value=\"0\">\n          Price\n        </option>\n        <option value=\"1\"> &lt; 25</option>\n        <option value=\"2\">25 - 50</option>\n        <option value=\"3\">50 +</option>\n      </select>\n    </>\n  );\n};\n\nFilterPriceDropdown.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  textValue: PropTypes.string,\n};\nFilterPriceDropdown.defaultProps = {\n  textValue: '',\n};\n\nexport default FilterPriceDropdown;\n","import { setAlert } from 'bus/alert/alertActions';\nimport { getBooks, searchBooks, filterByPrice } from 'bus/books/booksActions';\nimport {\n  loadingSelector,\n  errorSelector,\n  booksSelector,\n  filteredBooksSelector,\n  textValueSelector,\n} from 'bus/books/booksSelectors';\nimport BookItem from 'components/BookItem';\nimport Loader from 'components/common/Loader';\nimport SearchBox from 'components/common/SearchBox';\nimport FilterPriceDropdown from 'components/FiltePricerDropdown';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport style from './styles.module.scss';\n\nconst BooksContainer = () => {\n  const dispatch = useDispatch();\n  const books = useSelector(booksSelector);\n  const loading = useSelector(loadingSelector);\n  const error = useSelector(errorSelector);\n  const filteredBooks = useSelector(filteredBooksSelector);\n  const textValue = useSelector(textValueSelector);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(setAlert({ title: error }));\n    }\n  }, [error]);\n\n  const submitSearchHandler = (text) => {\n    dispatch(searchBooks(text));\n  };\n\n  const filterHandler = (priceValue) => {\n    dispatch(filterByPrice(priceValue));\n  };\n\n  const booksToRender = filteredBooks || books;\n  useEffect(() => {\n    dispatch(getBooks());\n  }, []);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className={style.boxGroup}>\n          <SearchBox submitSearchHandler={submitSearchHandler} />\n          <FilterPriceDropdown\n            filterHandler={filterHandler}\n            textValue={textValue}\n          />\n        </div>\n        <div className={style.booksWrapper}>\n          {booksToRender && booksToRender.length > 0\n            ? booksToRender.map((book) => (\n                <BookItem\n                  key={book.id}\n                  id={book.id}\n                  title={book.title}\n                  author={book.author}\n                  price={book.price}\n                  cover={book.cover}\n                />\n              ))\n            : booksToRender && <h5>Books Not found...</h5>}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BooksContainer;\n","export const cartItemsSelector = (state) => state.cart.cartItems;\nexport const cartLoadingSelector = (state) => state.cart.loading;\n","const totalPriceInfo = (cartItems) => {\n  const result = cartItems.reduce((acc, item) => {\n    return acc + item.quantity * item.price;\n  }, 0);\n  return result.toFixed(2);\n};\n\nexport default totalPriceInfo;\n","const getTotalCountSingleItem = (item) => {\n  return Number(item.price * item.quantity).toFixed(2);\n};\nexport default getTotalCountSingleItem;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getTotalPriceInfo from 'utils/helpers/getTotal/getTotalPriceInfo';\nimport getTotalCountSingleItem from 'utils/helpers/getTotal/getTotalPriceSingleItem';\nimport style from './styles.module.scss';\n\nconst CartTable = ({ cartItems }) => {\n  const totalPriceInfo = getTotalPriceInfo(cartItems);\n\n  return (\n    <div className={style.cartTable}>\n      <table className=\"table table-striped table-bordered mt-3\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {cartItems.map((item) => (\n            <tr key={item.id}>\n              <td>{item.title}</td>\n              <td> {item.quantity}</td>\n              <td> {item.price}</td>\n              <td>{getTotalCountSingleItem(item)}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className={style.totalPriceInfo}>\n        Total Price: {totalPriceInfo} $\n      </div>\n    </div>\n  );\n};\n\nCartTable.propTypes = {\n  cartItems: PropTypes.array.isRequired,\n};\n\nexport default CartTable;\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst Button = ({ title, disabled, extraClassName, onClick }) => {\n  const buttonStyle = useMemo(\n    () =>\n      classNames('btn', extraClassName, {\n        'btn-disabled': disabled,\n      }),\n    [disabled, extraClassName]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      disabled={disabled}\n      className={buttonStyle}\n      onClick={onClick}\n    >\n      {title}\n    </button>\n  );\n};\nButton.propTypes = {\n  title: PropTypes.string,\n  disabled: PropTypes.bool,\n  extraClassName: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\nButton.defaultProps = {\n  title: 'Button',\n  disabled: false,\n  extraClassName: 'btn',\n};\nexport default Button;\n","const openModalSelector = (state) => state.modal.open;\nexport default openModalSelector;\n","import { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.scss';\n\nconst Portal = ({ children, className = 'root-portal', el = 'div' }) => {\n  const [container] = useState(document.createElement(el));\n\n  container.classList.add(className);\n\n  useEffect(() => {\n    document.body.appendChild(container);\n    container.setAttribute('class', styles.wrapper);\n    document.body.style.overflow = 'hidden';\n\n    return () => {\n      document.body.removeChild(container);\n      document.body.style.overflow = 'auto';\n    };\n  }, [container]);\n  return createPortal(children, container);\n};\n\nPortal.propTypes = {\n  el: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.element.isRequired,\n};\n\nexport default Portal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.module.scss';\n\nconst WrapperForModal = ({ title, children }) => (\n  <div className={styles.wrapper}>\n    <div className={styles.wrapperHeader}>\n      <h4 className={styles.title}>{title}</h4>\n    </div>\n    <div className={styles.wrapperChildren}>{children}</div>\n  </div>\n);\n\nWrapperForModal.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default WrapperForModal;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport Portal from 'components/common/Portal';\nimport WrapperForModal from 'components/common/WrapperForModal';\nimport CartTable from 'components/CartTable';\nimport Button from 'components/common/Button';\nimport style from './styles.module.scss';\n\nconst PurchaseModal = ({ title, cartItems, closeHandler }) => {\n  return (\n    <Portal>\n      <WrapperForModal title={title}>\n        <CartTable cartItems={cartItems} />\n        <div className={style.buttonGroup}>\n          <Button\n            title=\"Close\"\n            extraClassName=\"btn-secondary\"\n            onClick={closeHandler}\n          />\n        </div>\n      </WrapperForModal>\n    </Portal>\n  );\n};\n\nexport default PurchaseModal;\n","import { CART_ADD_BOOK, CART_ADD_REQUEST, CART_CLEAR } from './cartTypes';\n\nconst cartAddRequest = () => ({ type: CART_ADD_REQUEST });\nconst cartAddSuccess = (book) => ({ type: CART_ADD_BOOK, payload: book });\nconst clearCartSuccess = () => ({ type: CART_CLEAR });\n\nconst addBook = (book) => (dispatch, getState) => {\n  dispatch(cartAddRequest());\n  setTimeout(() => {\n    dispatch(cartAddSuccess(book));\n    localStorage.setItem(\n      'cartItems',\n      JSON.stringify(getState().cart.cartItems)\n    );\n  }, 500);\n};\n\nconst clearCart = () => (dispatch) => {\n  dispatch(clearCartSuccess());\n  localStorage.removeItem('cartItems');\n};\n\nexport { cartAddRequest, cartAddSuccess, addBook, clearCart, clearCartSuccess };\n","import apiService from 'utils/services/api';\nimport { PURCHASE } from 'utils/services/endpoints';\nimport {\n  ORDER_CREATE_FAIL,\n  ORDER_CREATE_REQUSET,\n  ORDER_CREATE_SUCCESS,\n  ORDER_RESET,\n} from './orderTypes';\n\nconst createOrderRequest = () => ({ type: ORDER_CREATE_REQUSET });\nconst createOrderSuccess = (message) => ({\n  type: ORDER_CREATE_SUCCESS,\n  payload: message,\n});\nconst createOrderFail = (error) => ({\n  type: ORDER_CREATE_FAIL,\n  payload:\n    error.response && error.response.data.message\n      ? error.response.data.message\n      : error.message,\n});\n\nconst createOrder = (books) => async (dispatch, getState) => {\n  dispatch(createOrderRequest());\n  try {\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const formData = {\n      books,\n    };\n    const res = await apiService.postData(PURCHASE, formData, config);\n    dispatch(createOrderSuccess(res.message));\n  } catch (error) {\n    dispatch(createOrderFail(error));\n  }\n};\n\nconst resetOrderInfo = () => ({ type: ORDER_RESET });\n\nexport {\n  createOrder,\n  createOrderRequest,\n  createOrderFail,\n  createOrderSuccess,\n  resetOrderInfo,\n};\n","export const messageSelector = (state) => state.order.message;\nexport const loadingSelector = (state) => state.order.loading;\nexport const errorSelector = (state) => state.order.error;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { cartItemsSelector } from 'bus/cart/cartSelectors';\nimport CartTable from 'components/CartTable';\nimport Button from 'components/common/Button';\nimport openModalSelector from 'bus/modal/modalSelectors';\nimport PurchaseModal from 'containers/PurchaseModal';\nimport { openModal, closeModal } from 'bus/modal/modalActions';\nimport { clearCart } from 'bus/cart/cartActions';\nimport { createOrder, resetOrderInfo } from 'bus/order/orderActions';\nimport {\n  errorSelector,\n  loadingSelector,\n  messageSelector,\n} from 'bus/order/orderSelectors';\nimport Loader from 'components/common/Loader';\nimport { useHistory } from 'react-router-dom';\nimport { setAlert } from 'bus/alert/alertActions';\nimport style from './styles.module.scss';\n\nconst CartContainer = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const openedModal = useSelector(openModalSelector);\n  const cartItems = useSelector(cartItemsSelector);\n  const message = useSelector(messageSelector);\n  const loading = useSelector(loadingSelector);\n  const error = useSelector(errorSelector);\n\n  useEffect(() => {\n    if (error && !loading) {\n      dispatch(\n        setAlert({\n          title: error,\n        })\n      );\n    }\n  }, [error, loading]);\n\n  const purchaseHandler = () => {\n    dispatch(createOrder(cartItems));\n  };\n\n  if (message) {\n    dispatch(openModal());\n  }\n  if (loading) {\n    return <Loader />;\n  }\n\n  const closeHandler = () => {\n    dispatch(clearCart());\n    dispatch(closeModal());\n    dispatch(resetOrderInfo());\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className={style.btnWrapper}>\n          <Button\n            title=\"Go back\"\n            extraClassName=\"btn-info\"\n            onClick={() => history.goBack()}\n          />\n          <Button\n            title=\"Purchase\"\n            disabled={cartItems.length === 0}\n            extraClassName=\"btn-info\"\n            onClick={purchaseHandler}\n          />\n        </div>\n        {cartItems.length > 0 ? (\n          <CartTable cartItems={cartItems} />\n        ) : (\n          <div className={style.cartWrapper}>\n            <i className=\"fa fa-shopping-cart text-info\" />\n            <h5>Cart is empty</h5>\n          </div>\n        )}\n      </div>\n      {openedModal && (\n        <PurchaseModal\n          title={message}\n          cartItems={cartItems}\n          closeHandler={closeHandler}\n        />\n      )}\n    </>\n  );\n};\n\nexport default CartContainer;\n","import { MODAL_CLOSE, MODAL_OPEN } from './modalTypes';\n\nexport const openModal = () => ({ type: MODAL_OPEN });\n\nexport const closeModal = () => ({ type: MODAL_CLOSE });\n","import apiService from 'utils/services/api';\nimport { BOOKS } from 'utils/services/endpoints';\nimport {\n  BOOK_GET_BY_ID_FAIL,\n  BOOK_GET_BY_ID_REQUEST,\n  BOOK_GET_BY_ID_SUCCESS,\n} from './currentBookTypes';\n\nconst getBookByIdRequest = () => ({\n  type: BOOK_GET_BY_ID_REQUEST,\n});\n\nconst getBookByIdSuccess = (resData) => ({\n  type: BOOK_GET_BY_ID_SUCCESS,\n  payload: resData,\n});\n\nconst getBookByIdFail = (error) => ({\n  type: BOOK_GET_BY_ID_FAIL,\n  payload:\n    error.response && error.response.data.message\n      ? error.response.data.message\n      : error.message,\n});\n\nconst getBookById = (bookId) => async (dispatch, getState) => {\n  dispatch(getBookByIdRequest());\n\n  try {\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n    const resData = await apiService.getDataById(BOOKS, bookId, config);\n    dispatch(getBookByIdSuccess(resData));\n  } catch (error) {\n    dispatch(getBookByIdFail(error));\n  }\n};\n\nexport { getBookByIdFail, getBookByIdRequest, getBookByIdSuccess, getBookById };\n","export const currentBookSelector = (state) => state.currentBook.book;\nexport const loadingSelector = (state) => state.currentBook.loading;\nexport const errorSelector = (state) => state.currentBook.error;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'components/common/Button';\nimport getTotalCountSingleItem from 'utils/helpers/getTotal/getTotalPriceSingleItem';\nimport {\n  validateCountAmount,\n  validateCountOnLimit,\n} from 'utils/helpers/validation/validateCountAmount';\nimport style from './styles.module.scss';\n\nconst AddCountItem = ({ countInStock, price, quantity, onAddToCartClick }) => {\n  const [countValue, setCountValue] = useState(quantity);\n  const [errorValue, setErrorValue] = useState('');\n  const [totalPrice, setTotalPrice] = useState(\n    getTotalCountSingleItem({ price, quantity })\n  );\n\n  const onChangeHandler = (e) => {\n    const inputCountValue = +e.target.value;\n    if (validateCountAmount(inputCountValue, countInStock)) {\n      setCountValue(inputCountValue);\n      const item = {\n        price,\n        quantity: inputCountValue,\n      };\n      setTotalPrice(getTotalCountSingleItem(item));\n      setErrorValue('');\n    }\n    if (validateCountOnLimit(inputCountValue, countInStock)) {\n      setErrorValue(`We have only ${countInStock} books in stock`);\n    }\n  };\n  return (\n    <div className={style.addCountWrapper}>\n      {errorValue && (\n        <span className=\"text-danger mb-3 d-block\">{errorValue}</span>\n      )}\n      <div className={style.fieldGroup}>\n        <span>Price, $ </span>\n        <span>{price}</span>\n      </div>\n      <div className={style.fieldGroup}>\n        <span> Count</span>\n        <input type=\"number\" value={countValue} onChange={onChangeHandler} />\n      </div>\n      <div className={style.fieldGroup}>\n        <span>Total Price, $</span>\n        <span>{totalPrice}</span>\n      </div>\n      <div className={style.buttonGroup}>\n        <Button\n          title=\"Add To Cart\"\n          extraClassName=\"btn-info\"\n          onClick={() => onAddToCartClick(countValue)}\n          disabled={countValue === 0}\n        />\n      </div>\n    </div>\n  );\n};\n\nAddCountItem.propTypes = {\n  countInStock: PropTypes.number.isRequired,\n  price: PropTypes.number.isRequired,\n  onAddToCartClick: PropTypes.func.isRequired,\n  quantity: PropTypes.number,\n};\nAddCountItem.defaultProps = {\n  quantity: 0,\n};\nexport default AddCountItem;\n","const validateCountAmount = (value, count) => !!(value >= 0 && value <= count);\nconst validateCountOnLimit = (value, count) => value > count;\n\nexport { validateCountOnLimit, validateCountAmount };\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport classnames from 'classnames';\nimport style from './styles.module.scss';\n\nconst BookDetailsItem = ({ book }) => {\n  return (\n    <div className={style.cardStyle}>\n      <div className={style.cardDesc}>\n        <img className={style.cardImage} src={book.cover} alt=\"Card cap\" />\n        <p className={style.cardText}>{book.description}</p>\n      </div>\n      <div className={classnames('card-body', style.cardBodyStyle)}>\n        <h5 className=\"card-title\">{book.title}</h5>\n        <p className=\"card-text\">{book.author}</p>\n        <p>\n          <i className=\"fa fa-tags mr-2\" />\n          {book.tags.join(', ')}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default BookDetailsItem;\n","import { getBookById } from 'bus/currentBook/currentBookActions';\nimport {\n  currentBookSelector,\n  errorSelector,\n  loadingSelector,\n} from 'bus/currentBook/currentBookSelectors';\nimport AddCountItem from 'components/AddCountItem';\nimport BookDetailsItem from 'components/BookDetailsItem';\nimport Loader from 'components/common/Loader';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { addBook } from 'bus/cart/cartActions';\nimport { cartItemsSelector, cartLoadingSelector } from 'bus/cart/cartSelectors';\nimport { setAlert } from 'bus/alert/alertActions';\nimport Button from 'components/common/Button';\nimport style from './styles.module.scss';\n\nconst BookDetailsContainer = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const params = useParams();\n  const loading = useSelector(loadingSelector);\n  const error = useSelector(errorSelector);\n  const book = useSelector(currentBookSelector);\n  const cartLoading = useSelector(cartLoadingSelector);\n  const cartItems = useSelector(cartItemsSelector);\n\n  const bookItem =\n    cartItems && book && cartItems.find((item) => item.id === book.id);\n\n  useEffect(() => {\n    dispatch(getBookById(params.id));\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        setAlert({\n          title: error,\n        })\n      );\n    }\n  }, [error]);\n\n  const onAddToCartClick = (quantity) => {\n    dispatch(addBook({ ...book, quantity }));\n    setTimeout(() => {\n      dispatch(\n        setAlert({\n          title: 'Your order successfully added to the cart!',\n          type: 'success',\n        })\n      );\n    }, 500);\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    book && (\n      <>\n        <div className=\"container\">\n          <Button\n            title=\"Go back\"\n            extraClassName=\"btn-info\"\n            onClick={() => history.goBack()}\n          />\n          <div className={style.bookDetailsWrapper}>\n            <BookDetailsItem book={book} />\n            <>\n              {cartLoading ? (\n                <Loader />\n              ) : (\n                <AddCountItem\n                  countInStock={book.count}\n                  price={book.price}\n                  quantity={bookItem && bookItem.quantity}\n                  onAddToCartClick={onAddToCartClick}\n                />\n              )}\n            </>\n          </div>\n        </div>\n      </>\n    )\n  );\n};\n\nexport default BookDetailsContainer;\n","export default __webpack_public_path__ + \"static/media/cat.37830ce8.jfif\";","import Button from 'components/common/Button';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport image from 'assets/images/cat.jfif';\nimport style from './styles.module.scss';\n\nconst NotFound = () => {\n  const history = useHistory();\n  return (\n    <div className={style.errorTemplate}>\n      <img src={image} alt=\"Not found\" className={style.imageStyle} />\n      <h1>404</h1>\n      <h3>Sorry, that page does not exist</h3>\n      <Button\n        title=\"Take me home\"\n        extraClassName=\"btn-info mt-3\"\n        onClick={() => {\n          history.push('/');\n        }}\n      />\n    </div>\n  );\n};\n\nexport default NotFound;\n","export default __webpack_public_path__ + \"static/media/login_pic.38f6836f.jpg\";","const validateLoginInput = (username) => {\n  if (username.length < 4 || username.length > 16) {\n    return true;\n  }\n  return false;\n};\nexport default validateLoginInput;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport picLogin from 'assets/images/login_pic.jpg';\nimport validateLoginInput from 'utils/helpers/validation/validateLogin';\nimport styles from './styles.module.scss';\n\nconst LoginForm = ({ onLoginSubmit }) => {\n  const [username, setUserName] = useState('');\n  const [error, setError] = useState(false);\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (validateLoginInput(username)) {\n      setError(true);\n    } else {\n      onLoginSubmit(username);\n      setUserName('');\n      setError(false);\n    }\n  };\n  return (\n    <div className=\"container\">\n      <div className={styles.formContainer}>\n        <form onSubmit={onSubmit}>\n          {' '}\n          <img src={picLogin} alt=\"Login avatar\" className={styles.picLogin} />\n          <h4 className=\"text-center\">\n            <span className=\"text-info\">JS Band</span> Store\n          </h4>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\" className=\"w-100\">\n              Name\n              <input\n                type=\"text\"\n                name=\"username\"\n                id=\"username\"\n                value={username}\n                className=\"form-control w-100\"\n                onChange={(e) => setUserName(e.target.value)}\n              />\n              {error && (\n                <small className=\"text-danger\">Username is not valid</small>\n              )}\n            </label>\n          </div>\n          <input\n            type=\"submit\"\n            value=\"Login\"\n            className=\"btn btn-block btn-info\"\n          />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nLoginForm.propTypes = {\n  onLoginSubmit: PropTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import apiService from 'utils/services/api';\nimport { SIGNIN } from 'utils/services/endpoints';\nimport {\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAIL,\n  USER_LOGOUT_REQUEST,\n  USER_LOGOUT,\n} from './userTypes';\n\nconst loginUserRequest = () => ({ type: USER_LOGIN_REQUEST });\nconst loginUserSuccess = (response) => ({\n  type: USER_LOGIN_SUCCESS,\n  payload: response,\n});\nconst loginUserFail = (error) => ({\n  type: USER_LOGIN_FAIL,\n  payload:\n    error.response && error.response.data.message\n      ? error.response.data.message\n      : error.message,\n});\nconst loginUser = (username) => async (dispatch) => {\n  dispatch(loginUserRequest());\n  try {\n    const formData = {\n      username,\n    };\n    const response = await apiService.postData(SIGNIN, formData);\n    dispatch(loginUserSuccess(response));\n    localStorage.setItem('userInfo', JSON.stringify(response));\n  } catch (error) {\n    dispatch(loginUserFail(error));\n  }\n};\n\nconst logoutUserRequest = () => ({ type: USER_LOGOUT_REQUEST });\nconst logoutUserSuccess = () => ({ type: USER_LOGOUT });\n\nconst logoutUser = () => (dispatch) => {\n  dispatch(logoutUserRequest());\n  setTimeout(() => {\n    localStorage.removeItem('userInfo');\n    dispatch(logoutUserSuccess());\n  }, 500);\n};\n\nexport {\n  loginUserRequest,\n  loginUserFail,\n  loginUserSuccess,\n  loginUser,\n  logoutUser,\n  logoutUserRequest,\n  logoutUserSuccess,\n};\n","import React, { useEffect } from 'react';\nimport LoginForm from 'components/LoginForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginUser } from 'bus/userLogin/userActions';\nimport {\n  loadingSelector,\n  userInfoSelector,\n  errorSelector,\n} from 'bus/userLogin/userSelectors';\nimport { useHistory } from 'react-router-dom';\nimport Loader from 'components/common/Loader';\nimport { setAlert } from 'bus/alert/alertActions';\n\nconst LoginContainer = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const userInfo = useSelector(userInfoSelector);\n  const loading = useSelector(loadingSelector);\n  const error = useSelector(errorSelector);\n\n  useEffect(() => {\n    if (userInfo) {\n      history.push('/');\n    }\n  }, [history, userInfo, loginUser, error]);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(setAlert({ title: error }));\n    }\n  }, [error]);\n  const onLoginSubmit = (username) => {\n    dispatch(loginUser(username));\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <LoginForm onLoginSubmit={onLoginSubmit} />\n    </>\n  );\n};\n\nexport default LoginContainer;\n","import Button from 'components/common/Button';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport style from './styles.module.scss';\n\nconst Navbar = ({ avatar, username, onLogoutClicked, cartItemsSum = 0 }) => {\n  return (\n    <header>\n      <nav className=\"navbar  navbar-expand-lg \">\n        <div className=\"container\">\n          <div className={style.navbarItem}>\n            <span>{username}</span>\n            <img src={avatar} alt=\"avatar\" className={style.avatarImage} />\n            <Button\n              title=\"Sign Out\"\n              extraClassName=\"btn-secondary py-2 ml-3\"\n              onClick={() => onLogoutClicked()}\n            />\n          </div>\n        </div>\n      </nav>\n      <div className=\"navbar navbar-dark bg-info navbar-expand-lg mb-3 py-3\">\n        <div className=\"container\">\n          <Link to=\"/\">\n            <i className=\"fa fa-book\" /> JS Band Store\n          </Link>\n          <Link to=\"/cart\">\n            <i className=\"fa fa-shopping-cart\" /> Cart ({cartItemsSum})\n          </Link>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nNavbar.propTypes = {\n  username: PropTypes.string.isRequired,\n  onLogoutClicked: PropTypes.func.isRequired,\n  cartItemsSum: PropTypes.number.isRequired,\n  avatar: PropTypes.string.isRequired,\n};\n\nexport default Navbar;\n","const getTotalCountInfo = (cartItems) => {\n  const totalCountInfo = cartItems.reduce((acc, book) => {\n    return acc + book.quantity;\n  }, 0);\n  return totalCountInfo;\n};\nexport default getTotalCountInfo;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userInfoSelector } from 'bus/userLogin/userSelectors';\nimport Navbar from 'components/Navbar';\nimport { logoutUser } from 'bus/userLogin/userActions';\nimport { useHistory } from 'react-router-dom';\nimport { cartItemsSelector } from 'bus/cart/cartSelectors';\nimport { resetOrderInfo } from 'bus/order/orderActions';\nimport getTotalCountInfo from 'utils/helpers/getTotal/getTotalCountInfo';\n\nconst NavbarContainer = () => {\n  const dispatch = useDispatch();\n  const userInfo = useSelector(userInfoSelector);\n  const history = useHistory();\n  const cartItems = useSelector(cartItemsSelector);\n\n  const totalCountInfo = getTotalCountInfo(cartItems);\n\n  const onLogoutClicked = () => {\n    dispatch(logoutUser());\n    dispatch(resetOrderInfo());\n    history.push('/login');\n  };\n  return (\n    <>\n      <Navbar\n        username={userInfo.username}\n        avatar={userInfo.avatar}\n        onLogoutClicked={onLogoutClicked}\n        cartItemsSum={totalCountInfo}\n      />\n    </>\n  );\n};\n\nexport default NavbarContainer;\n","const goRoute = Object.freeze({\n  books: '/',\n  book: '/books/:id',\n  login: '/login',\n  cart: '/cart',\n  notFound: '*',\n});\nexport default goRoute;\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport BooksContainer from 'containers/BooksContainer';\nimport CartContainer from 'containers/CartContainer';\nimport BookDetailsContainer from 'containers/BookDetailsContainer';\nimport NotFound from 'containers/NotFound';\nimport LoginContainer from 'containers/LoginContainer';\nimport NavbarContainer from 'containers/NavbarContainer';\n\nimport goRoute from './goRoute';\n\nconst Private = () => {\n  return (\n    <>\n      <Switch>\n        <Route exact path=\"/404\" component={NotFound} />\n        <Route>\n          <NavbarContainer />\n          <Switch>\n            <Route exact path={goRoute.books} component={BooksContainer} />\n            <Route path={goRoute.login} component={LoginContainer} />\n            <Route path={goRoute.book} component={BookDetailsContainer} />\n            <Route path={goRoute.cart} component={CartContainer} />\n            <Redirect to=\"/404\" />\n          </Switch>\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default Private;\n","import React from 'react';\nimport { Redirect, Route, Switch, useLocation } from 'react-router-dom';\nimport LoginContainer from 'containers/LoginContainer';\nimport NotFound from 'containers/NotFound';\n\nimport goRoute from './goRoute';\n\nconst Public = () => {\n  const pathName = useLocation().pathname;\n\n  return (\n    <>\n      <Switch>\n        <Route path={goRoute.login} component={LoginContainer} />\n        {pathName === '/' && <Redirect to={goRoute.login} />}\n        <Route path={goRoute.notFound} component={NotFound} />\n      </Switch>\n    </>\n  );\n};\n\nexport default Public;\n","import React from 'react';\n\nimport { useSelector } from 'react-redux';\nimport { userInfoSelector } from 'bus/userLogin/userSelectors';\nimport Alert from 'components/common/Alert';\nimport alertSelector from 'bus/alert/alertSelectors';\nimport Private from './Private';\nimport Public from './Public';\n\nconst App = () => {\n  const userInfo = useSelector(userInfoSelector);\n  const alert = useSelector(alertSelector);\n  return (\n    <>\n      {alert && <Alert title={alert.title} type={alert.type} />}\n      {userInfo ? <Private /> : <Public />}\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from 'core/store';\nimport App from './navigation/App';\nimport './assets/styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}